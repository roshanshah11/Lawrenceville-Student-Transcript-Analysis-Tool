"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[966],{966:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var l=t(43),r=t(213),a=t(579);class i extends l.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("Error caught by ErrorBoundary:",e,s)}render(){return this.state.hasError?(0,a.jsx)("div",{className:"text-red-500",children:"Something went wrong. Please try again later."}):this.props.children}}const d=e=>{let{darkMode:s}=e;const[t,d]=(0,l.useState)([]),[n,c]=(0,l.useState)("individual"),[o,h]=(0,l.useState)(null),[u,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),[b,g]=(0,l.useState)({}),j=e=>{c(e.target.value)};return(0,a.jsx)(i,{children:(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsxs)("div",{className:"p-6 rounded-lg shadow-md "+(s?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Multi-Student Transcript Processing"}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(!0),p(null),0===t.length)return p("No files selected."),void m(!1);const s=new FormData;t.forEach((e=>s.append("files",e)));try{let e;if("individual"===n)if(e=await r.A.post("http://localhost:5000/upload-multi-student",s,{headers:{"Content-Type":"multipart/form-data"}}),200===e.status){const e=await r.A.get("http://localhost:5000/check-graduation");h(e.data)}else p("Failed to upload files.");else if(e=await r.A.post("http://localhost:5000/upload-multi-student",s,{headers:{"Content-Type":"multipart/form-data"}}),200===e.status){const e=await r.A.get("http://localhost:5000/chart",{responseType:"blob"}),s=URL.createObjectURL(e.data);h(s)}else p("Failed to upload files.")}catch(i){var l,a;console.error("Error during file processing:",i),p((null===(l=i.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.error)||"An error occurred while processing files")}finally{m(!1)}},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"transcript-files",className:"block text-sm font-medium text-gray-700",children:"Select Transcript Folder:"}),(0,a.jsx)("input",{type:"file",id:"transcript-files",webkitdirectory:"true",directory:"true",onChange:e=>{d(Array.from(e.target.files)),p(null)},className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",value:"individual",checked:"individual"===n,onChange:j}),"Process Individually"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",value:"collective",checked:"collective"===n,onChange:j}),"Process Collectively"]})]}),(0,a.jsx)("button",{type:"submit",disabled:0===t.length||u,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-blue-300",children:u?"Processing...":"Process Files"})]}),x&&(0,a.jsx)("div",{className:"text-red-500 mt-4",children:x}),o?"individual"===n?(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Individual Results"}),Object.entries(o).map((e=>{var t,l;let[r,i]=e;const d=r.split("_"),n=b[r],c=void 0!==(null===i||void 0===i||null===(t=i.graduation_check)||void 0===t?void 0:t.met_all_requirements);return(0,a.jsxs)("div",{className:`p-4 rounded-lg shadow-md mb-4 cursor-pointer ${s?"bg-gray-700 text-white":"bg-white text-gray-800"} ${c?"hover:bg-gray-50":"opacity-50 cursor-not-allowed"}`,onClick:()=>c&&(e=>{g((s=>({...s,[e]:!s[e]})))})(r),children:[(0,a.jsx)("h4",{className:"font-bold",children:d}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("strong",{children:"Graduation Status:"})," ",void 0!==(null===i||void 0===i||null===(l=i.graduation_check)||void 0===l?void 0:l.met_all_requirements)?i.graduation_check.met_all_requirements?(0,a.jsx)("span",{className:"text-green-600",children:"\u2705 All Requirements Met"}):(0,a.jsx)("span",{className:"text-red-600",children:"\u274c Some Requirements Not Met"}):(0,a.jsx)("span",{className:"text-gray-500",children:"\u26a0\ufe0f Data Unavailable"})]}),n&&c&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-bold mb-2",children:"Progress"}),(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2",children:"Requirement"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Progress"})]})}),(0,a.jsx)("tbody",{children:Object.entries(i.graduation_check.progress["Student Progress"]).map((e=>{let[s,t]=e;const l=t.includes("\u2705"),r=t.split(":")[1].trim();return(0,a.jsxs)("tr",{className:l?"bg-green-100":"bg-red-100",children:[(0,a.jsx)("td",{className:"border px-4 py-2",children:s}),(0,a.jsx)("td",{className:"border px-4 py-2",children:l?"\u2705 Met":"\u274c Not Met"}),(0,a.jsx)("td",{className:"border px-4 py-2",children:r})]},s)}))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-bold mb-2",children:"Graduation Requirements"}),(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2",children:"Requirement"}),(0,a.jsx)("th",{className:"px-4 py-2",children:"Credits Needed"})]})}),(0,a.jsx)("tbody",{children:Object.entries(i.graduation_check.requirements["Graduation Requirements"]).map((e=>{let[s,t]=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border px-4 py-2",children:s}),(0,a.jsx)("td",{className:"border px-4 py-2",children:t})]},s)}))})]})]})]})})]},r)}))]}):(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Collective Analysis"}),o?(0,a.jsx)("img",{src:o,alt:"Visual representation of the collective analysis results",className:"w-full rounded-lg shadow-md"}):(0,a.jsx)("p",{children:"No data available."})]}):null]})})})}}}]);
//# sourceMappingURL=966.54030d0c.chunk.js.map